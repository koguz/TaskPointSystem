{% extends "tasks/base.html" %}
{% load static %}

{% block breadcrumbs %}
<div class="tps-view-head">
  <p class="tps-view-kicker">Student Workspace</p>
  <h1 class="tps-view-title">Create Task</h1>
  <p class="tps-view-subtitle">{{ team }} Â· {{ milestone }}</p>
</div>
{% endblock %}

{% block left_content %}
<section class="tps-section">
  <div class="tps-section-header">
    <h2 class="tps-section-title">Task Context</h2>
  </div>
  <div class="tps-section-body">
    <ul class="tps-note-list">
      <li class="tps-note-item">
        <span class="tps-note-label">Assignee</span>
        <p class="tps-note-value">{{ user.get_full_name }}</p>
      </li>
      <li class="tps-note-item">
        <span class="tps-note-label">Milestone</span>
        <p class="tps-note-value">{{ milestone }}</p>
      </li>
      <li class="tps-note-item">
        <span class="tps-note-label">Milestone Due</span>
        <p class="tps-note-value">{{ milestone.due }}</p>
      </li>
    </ul>
  </div>
</section>
{% endblock %}

{% block main_content %}
<section class="tps-section">
  <div class="tps-section-header">
    <h2 class="tps-section-title">New Task Details</h2>
  </div>
  <div class="tps-section-body">
    <form action="{% url 'create_task' team.pk %}" method="post" class="tps-form-grid">
      {% csrf_token %}
      {{ form.as_p }}
      <div class="form-actions">
        <button type="submit" class="btn btn-primary">Create Task</button>
      </div>
    </form>
  </div>
</section>
{% endblock %}

{% block right_content %}
<section class="tps-section">
  <div class="tps-section-header">
    <h2 class="tps-section-title">Guidance</h2>
  </div>
  <div class="tps-section-body small">
    <p><strong>Description:</strong> Write enough detail so teammates can review and vote confidently.</p>
    <p><strong>Priority:</strong> Use Planned for most tasks, Urgent for time-critical work, Low for optional work.</p>
    <p class="mb-0"><strong>Promised Date:</strong> Keep this realistic and before milestone deadline ({{ milestone.due }}).</p>
  </div>
</section>
{% endblock %}
