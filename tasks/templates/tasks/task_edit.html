{% extends "tasks/base.html" %}
{% load static %}

{% block breadcrumbs %}
<div class="tps-view-head">
  <p class="tps-view-kicker">Student Workspace</p>
  <h1 class="tps-view-title">Edit Task</h1>
  <p class="tps-view-subtitle">{{ mastertask }}</p>
</div>
{% endblock %}

{% block left_content %}
<section class="tps-section">
  <div class="tps-section-header">
    <h2 class="tps-section-title">Task State</h2>
  </div>
  <div class="tps-section-body">
    <p class="mb-0">Tasks are editable while in <strong>Proposed</strong> state.</p>
  </div>
</section>
{% endblock %}

{% block main_content %}
<section class="tps-section">
  <div class="tps-section-header">
    <h2 class="tps-section-title">Update Details</h2>
  </div>
  <div class="tps-section-body">
    <form action="{% url 'edit_task' mastertask.pk %}" method="post" class="tps-form-grid">
      {% csrf_token %}
      {{ form.as_p }}
      <div class="form-actions">
        <button type="submit" class="btn btn-primary">Save Changes</button>
      </div>
    </form>
  </div>
</section>
{% endblock %}

{% block right_content %}
<section class="tps-section">
  <div class="tps-section-header">
    <h2 class="tps-section-title">Guidance</h2>
  </div>
  <div class="tps-section-body small">
    <p><strong>Description:</strong> Keep scope and expected deliverable clear.</p>
    <p><strong>Priority:</strong> Planned is default. Reserve Urgent for immediate work.</p>
    <p class="mb-0"><strong>Promised Date:</strong> Keep it before milestone due date ({{ mastertask.milestone.due }}).</p>
  </div>
</section>
{% endblock %}
