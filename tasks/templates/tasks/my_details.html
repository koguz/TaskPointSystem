{% extends "tasks/profile.html" %}
{% load static %}

{% block main_content %}
<div class="card">
  <div class="card-header">
    <h2 class="h5 mb-0">My Details</h2>
  </div>
  <div class="card-body">
    <dl class="row mb-0">
      <dt class="col-sm-4">Name</dt>
      <dd class="col-sm-8">{{ user.first_name }}</dd>
      <dt class="col-sm-4">Surname</dt>
      <dd class="col-sm-8">{{ user.last_name }}</dd>
      <dt class="col-sm-4">School ID</dt>
      <dd class="col-sm-8">{{ user.username }}</dd>
      <dt class="col-sm-4">Email</dt>
      <dd class="col-sm-8">{{ user.email|default:'-' }}</dd>
    </dl>
  </div>
</div>

<section class="tps-section mt-3">
  <div class="tps-section-header">
    <h2 class="tps-section-title">Choose Profile Avatar</h2>
  </div>
  <div class="tps-section-body">
    <form action="{% url 'my_details' %}" method="post" class="tps-form-grid">
      {% csrf_token %}
      <div class="avatar-picker-grid">
        {% for avatar in avatar_options %}
        <label class="avatar-picker-option">
          <input
            type="radio"
            name="avatar_choice"
            value="{{ avatar.url }}"
            {% if avatar.url == dev.photoURL %}checked{% endif %}
          />
          <span class="avatar-picker-card">
            <img src="{{ avatar.url }}" alt="{{ avatar.label }}" class="avatar-picker-image" />
            <span class="avatar-picker-label">{{ avatar.label }}</span>
          </span>
        </label>
        {% endfor %}
      </div>
      <div class="form-actions">
        <button class="btn btn-primary" type="submit">Save Avatar</button>
      </div>
    </form>
  </div>
</section>
{% endblock %}
